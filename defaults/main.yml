---
#
# ─── DEFAULT CONFIGURATIONS. CHANGE IT IF YOU WANT ──────────────────────────────
#

#
# ─── COMPOSER CONFIGURATIONS ────────────────────────────────────────────────────
#
composer_path: /usr/local/bin/composer
composer_version: ''

#
# ─── PHP-FPM CONFIGURATIONS ─────────────────────────────────────────────────────
#
php_fpm_pool_user: www-data
php_fpm_pool_group: www-data
php_fpm_pool_conf_path: "/etc/php-fpm.d/www.conf"

php_fpm_listen: "127.0.0.1:9000"
php_fpm_listen_allowed_clients: "127.0.0.1"
php_fpm_pm_max_children: 50
php_fpm_pm_start_servers: 5
php_fpm_pm_min_spare_servers: 5
php_fpm_pm_max_spare_servers: 5

#
# ─── MARIADB'S CONFIGURATIONS FOR CENTOS 7 ──────────────────────────────────────
#
mariadb_root_password: "{{ db_root_password }}"
mariadb_databases:
  - name: "{{ database_name }}"

baseUrl: http://yum.mariadb.org/10.2/centos7-amd64
gpgKey: https://yum.mariadb.org/RPM-GPG-KEY-MariaDB

mariadb_config_network: /etc/my.cnf.d/network.cnf
mariadb_config_server: /etc/my.cnf.d/server.cnf
mariadb_socket: /var/lib/mysql/mysql.sock

# Network configuration (network.cnf)
mariadb_bind_address: '127.0.0.1'

# Server configuration (server.cnf)
mariadb_port: 3306
mariadb_skip_name_resolve: 1

mariadb_log_warnings: '1'
mariadb_slow_query_log: '0'
mariadb_long_query_time: '10'

mariadb_max_connections: 505
mariadb_max_user_connections: 500
mariadb_max_allowed_packet: '16M'
mariadb_max_heap_table_size: '16M'
ansible_wait_timeout: 60

mariadb_query_cache_size: 0
mariadb_sort_buffer_size: '2M'
mariadb_tmp_table_size: '16M'
mariadb_read_buffer_size: '128k'
mariadb_read_rnd_buffer_size: '256k'
mariadb_join_buffer_size: '128k'
mariadb_table_definition_cache: '1400'
mariadb_table_open_cache: '2000'
mariadb_table_open_cache_instances: '8'

mariadb_innodb_strict_mode: 'ON'
mariadb_innodb_file_format_check: 1
mariadb_innodb_file_format: Barracuda
mariadb_innodb_buffer_pool_size: '384M'
mariadb_innodb_buffer_pool_instances: 8
mariadb_innodb_file_per_table: 'ON'
mariadb_innodb_flush_log_at_trx_commit: 1
mariadb_innodb_log_buffer_size: '16M'
mariadb_innodb_log_file_size: '48M'
